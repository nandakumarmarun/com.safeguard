<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multi-Step Form</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <style>
        .step {
            display: none;
        }

        .step.active {
            display: block;
        }
    </style>
</head>

<body>
    <div id="multiStepForm"></div>

    <script>
        $(document).ready(function () {
            const steps = [
                {
                    "id": "1db10522-7749-4853-af2e-577865953541",
                    "checklistName": "new data",
                    "checkListItemDTO": [
                        {
                            "id": "8c308853-6c91-4fbb-95a9-d8f25bb42029",
                            "checklistItemName": "how  are You",
                            "value": "2566",
                            "priorityLevel": "HIGH"
                        },
                        {
                            "id": "8c308853-6c91-4fbb-95a9-d8f25bb42029",
                            "checklistItemName": "how  are You",
                            "value": "2566",
                            "priorityLevel": "HIGH"
                        }, {
                            "id": "8c308853-6c91-4fbb-95a9-d8f25bb42029",
                            "checklistItemName": "how  are You",
                            "value": "2566",
                            "priorityLevel": "HIGH"
                        }

                    ]
                },
                {
                    "id": "29e9dafc-6936-4fa7-8fb3-478244073cfd",
                    "checklistName": "ds",
                    "checkListItemDTO": [
                        {
                            "id": "8e49d463-54e6-4b8c-b501-f211d25bc418",
                            "checklistItemName": "sds",
                            "value": "336",
                            "priorityLevel": "LOW"
                        }
                    ]
                },
                {
                    "id": "3e3326fe-68d3-4107-a40d-6f4fd8ea2cc9",
                    "checklistName": "newone",
                    "checkListItemDTO": [
                        {
                            "id": "f01ced3d-e81a-4f4b-95b1-a34fcc6dd3ad",
                            "checklistItemName": "how are you",
                            "value": 25,
                            "priorityLevel": "HIGH"
                        }
                    ]
                },
                {
                    "id": "8b475bec-82ec-4d3d-a11e-827e48279cbb",
                    "checklistName": "hjkl",
                    "checkListItemDTO": [
                        {
                            "id": "0cde329a-b669-42fc-bc5e-dc1df2e234b0",
                            "checklistItemName": "hello",
                            "value": "256",
                            "priorityLevel": "HIGH"
                        }
                    ]
                }
            ];

            function generateForm(steps) {
                steps.forEach((step, index) => {
                    let stepHtml = `<div class="step step-${index + 1} ${index === 0 ? 'active' : ''}">
                                        <h2>${step.checklistName}</h2>`;

                    step.checkListItemDTO.forEach(item => {
                        stepHtml += `<div class="form-check">
                                        <input class="form-check-input" type="checkbox" id="${item.id}" value="${item.value}">
                                        <label class="form-check-label" for="${item.id}">${item.checklistItemName}</label>
                                        <span class="badge badge-${item.priorityLevel === 'HIGH' ? 'danger' : 'secondary'}">${item.priorityLevel}</span>
                                     </div>`;
                    });

                    if (index > 0) {
                        stepHtml += `<button type="button" class="btn btn-secondary prev-step">Previous</button>`;
                    }

                    if (index < steps.length - 1) {
                        stepHtml += `<button type="button" class="btn btn-primary next-step">Next</button>`;
                    } else {
                        stepHtml += `<button type="submit" class="btn btn-success">Submit</button>`;
                    }

                    stepHtml += `</div>`;
                    $('#multiStepForm').append(stepHtml);
                });
            }

            generateForm(steps);

            // Navigation logic
            $('#multiStepForm').on('click', '.next-step', function () {
                var currentStep = $(this).closest('.step');
                var nextStep = currentStep.next('.step');
                currentStep.removeClass('active');
                nextStep.addClass('active');
            });

            $('#multiStepForm').on('click', '.prev-step', function () {
                var currentStep = $(this).closest('.step');
                var prevStep = currentStep.prev('.step');
                currentStep.removeClass('active');
                prevStep.addClass('active');
            });

            // Form submission
            $('#multiStepForm').on('submit', function (event) {
                event.preventDefault();
                alert('Form submitted!');
            });
        });
    </script>
</body>

</html>